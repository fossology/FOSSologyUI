(this.webpackJsonpfossologyui=this.webpackJsonpfossologyui||[]).push([[41],{123:function(e,t,n){"use strict";var c=n(9),r=n.n(c),a=n(60),o=n(49),i=n(61),s=function(e){var t=e.folderId,n=e.page,c=e.limit,r=e.recursive,s=a.a.browse.get();return Object(i.a)({url:s,method:"GET",headers:{Authorization:Object(o.a)(),page:n,limit:c},queryParams:{folderId:t,recursive:r}})};s.propTypes={page:r.a.number,limit:r.a.number,folderId:r.a.number,recursive:r.a.bool};var u=s,l=n(13);t.a=function(e){return u(e).then((function(e){return{res:e,pages:Object(l.c)("pages")}}))}},162:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var c=n(58),r=n(52),a=n(21),o=n(0),i=n(154),s=n.n(i),u=n(57),l=n(50),d=n(51),j=n(70),b=n(9),h=n.n(b),O=n(168),f=(n(162),n(1)),p=["style","node"],m={id:h.a.number,name:h.a.string,description:h.a.string};m.children=h.a.arrayOf(h.a.shape(m));var v=function(e){var t=e.data,n=e.handleClick,c=e.folderCount,i=O.b.Expandable,s=Object(o.useState)(t),u=Object(a.a)(s,2),l=u[0],d=u[1];return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"tree-list",style:{height:l?"".concat(40*c,"px"):"0"},children:Object(f.jsx)(O.a,{nodes:l,onChange:function(e){d(e)},children:function(e){var t=e.style,c=e.node,a=Object(j.a)(e,p);return Object(f.jsx)("div",{style:t,children:Object(f.jsx)(i,Object(r.a)(Object(r.a)({node:c},a),{},{children:Object(f.jsx)("button",{className:"folder-tree-list text-primary-color",type:"button",onClick:function(e){return n(e,c.id)},children:c.name})}))})}})})})},x=n(123),g=n(68),y=n(94),N=n(64),C=n(75);t.default=function(){var e,t=Object(o.useState)({folderId:1,page:1,limit:10,recursive:!1}),n=Object(a.a)(t,2),i=n[0],j=n[1],b=Object(o.useState)(),h=Object(a.a)(b,2),O=h[0],p=h[1],m=Object(o.useState)(),S=Object(a.a)(m,2),w=S[0],z=S[1],A=Object(o.useState)(),E=Object(a.a)(A,2),T=E[0],L=E[1],U=Object(o.useState)(0),k=Object(a.a)(U,2),D=k[0],P=k[1],F=Object(o.useState)(C.g),I=Object(a.a)(F,2),R=I[0],G=I[1],J=Object(o.useState)(!1),q=Object(a.a)(J,2),B=q[0],H=q[1],M=Object(o.useState)(""),V=Object(a.a)(M,2),K=V[0],Q=V[1];Object(o.useEffect)((function(){G({type:"success",text:u.a.loading}),H(!0),Object(x.a)(i).then((function(e){p(e.res);for(var t=[],n=0;n<e.pages;n++)t.push({id:n+1,value:n+1});z(t),H(!1)})).catch((function(e){Object(N.e)(e,G),H(!0)}))}),[i]),Object(o.useEffect)((function(){Object(g.e)().then((function(e){var t=e.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{state:{expanded:!0,favorite:!1,deletable:!1}})}));P(t.length),L(s()(t,{parentProperty:"parent",customID:"id"}))})).catch((function(e){Object(N.e)(e,G),H(!0)}))}),[]);var W=function(e){var t;"limit"===e.target.name?j(Object(r.a)(Object(r.a)({},i),{},(t={},Object(c.a)(t,e.target.name,e.target.value),Object(c.a)(t,"page",1),t))):j(Object(r.a)(Object(r.a)({},i),{},Object(c.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{title:"Browse"}),Object(f.jsxs)("div",{className:"main-container my-3",children:[B&&Object(f.jsx)(d.a,{type:R.type,setShow:H,message:R.text}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-md-3 col-lg-2",children:[Object(f.jsx)("h2",{className:"font-size-sub-heading",children:"Folder Navigation"}),T&&Object(f.jsx)(v,{folderCount:D,data:T,handleClick:function(e,t){e.preventDefault(),j(Object(r.a)(Object(r.a)({},i),{},{folderId:t}))}})]}),Object(f.jsx)("div",{className:"col-md-9 col-lg-10",children:Object(f.jsxs)("table",{className:"table table-striped text-primary-color font-size-medium table-responsive-sm table-bordered",children:[Object(f.jsxs)("thead",{children:[Object(f.jsx)("tr",{children:Object(f.jsx)("th",{colSpan:"6",className:"font-size-sub-heading text-center",children:"Uploads in Software Repository"})}),Object(f.jsx)("tr",{className:"font-demi",children:Object(f.jsxs)("td",{colSpan:"6",className:"p-2 m-2",children:[Object(f.jsx)("span",{className:"mt-1",children:"Show entries: "}),Object(f.jsx)(d.c,{name:"limit",type:"select",onChange:function(e){return W(e)},options:C.c,property:"entry"})]})}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:Object(f.jsx)("input",{type:"search",className:"form-control",placeholder:"Filter upload",onChange:function(e){return Q(e.target.value)}})}),Object(f.jsx)("th",{children:Object(f.jsx)(d.c,{name:"status",type:"select",onChange:function(e){return W(e)},options:C.s,property:"name"})}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:Object(f.jsx)(d.c,{name:"status",type:"select",onChange:function(e){return W(e)},options:C.b,property:"name"})})]}),Object(f.jsxs)("tr",{className:"font-bold text-center",children:[Object(f.jsx)("th",{children:"Upload Name and Description"}),Object(f.jsx)("th",{children:"Status"}),Object(f.jsx)("th",{children:"Comment"}),Object(f.jsx)("th",{children:"Main Licenses"}),Object(f.jsx)("th",{children:"Assigned to"}),Object(f.jsx)("th",{children:"Upload Date"})]})]}),Object(f.jsxs)("tbody",{children:[null===O||void 0===O||null===(e=O.filter((function(e){return""===K||null!==e&&void 0!==e&&e.uploadname.toLowerCase().includes(K.toLowerCase())?e:null})))||void 0===e?void 0:e.map((function(e){return Object(f.jsxs)("tr",{className:"text-center",children:[Object(f.jsxs)("td",{children:[Object(f.jsx)("div",{className:"font-demi",children:null===e||void 0===e?void 0:e.uploadname}),Object(f.jsx)("div",{className:"font-size-small",children:null===e||void 0===e?void 0:e.description}),Object(f.jsx)(d.c,{name:"action",type:"select",onChange:function(t){return function(e,t){Object(y.d)(t,e.target.value).then((function(e){return null===e||void 0===e?void 0:e.message})).then((function(e){setTimeout((function(){Object(y.a)(e).then((function(e){return e})).then((function(t){var n=Object(N.b)(t.headers.get("content-disposition"));t.blob().then((function(t){var c=document.createElement("a");c.href=window.URL.createObjectURL(t),c.download=n,document.body.appendChild(c),c.click(),setTimeout((function(){window.URL.revokeObjectURL(e),document.body.removeChild(c)}),150)})).catch((function(e){Object(N.e)(e,G),H(!0)}))})).catch((function(e){Object(N.e)(e,G),H(!0)}))}),1200)})).catch((function(e){Object(N.e)(e,G),H(!0)}))}(t,null===e||void 0===e?void 0:e.id)},options:C.a,property:"name",defaultValue:"0",valueProperty:"reportFormat"})]}),Object(f.jsx)("td",{children:Object(f.jsx)(d.c,{name:"status",type:"select",onChange:function(e){return W(e)},options:C.s,property:"name"})}),Object(f.jsx)("td",{children:"-"}),Object(f.jsx)("td",{children:"-"}),Object(f.jsx)("td",{children:Object(f.jsx)(d.c,{name:"status",type:"select",onChange:function(e){return W(e)},options:C.b,property:"name"})}),Object(f.jsx)("td",{children:null===e||void 0===e?void 0:e.uploaddate.split(".")[0]})]},null===e||void 0===e?void 0:e.id)})),Object(f.jsx)("tr",{children:Object(f.jsxs)("td",{colSpan:"6",children:["Page:",w&&Object(f.jsx)(d.c,{name:"page",type:"select",onChange:function(e){return W(e)},options:w,property:"value",className:"mt-n4"})]})})]})]})})]})]})]})}},68:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return j})),n.d(t,"a",(function(){return b}));var c=n(60),r=n(49),a=n(61),o=function(e,t,n){var o=c.a.folders.move(t);return Object(a.a)({url:o,method:"PUT",headers:{Authorization:Object(r.a)(),parent:e,action:n}})},i=function(e){return function(e){var t=c.a.folders.getAll();return Object(a.a)({url:t,method:"GET",headers:{Authorization:Object(r.a)()},groupName:e})}(e).then((function(e){return e}))},s=function(e){return function(e){var t=c.a.folders.getSingle(e);return Object(a.a)({url:t,method:"GET",headers:{Authorization:Object(r.a)()}})}(e).then((function(e){return e}))},u=function(e){return function(e){var t=c.a.folders.delete(e);return Object(a.a)({url:t,method:"DELETE",headers:{Authorization:Object(r.a)()}})}(e.id).then((function(e){return e}))},l=function(e){return function(e,t,n){var o=c.a.folders.create();return Object(a.a)({url:o,method:"POST",headers:{Authorization:Object(r.a)(),parentFolder:e,folderName:t,folderDescription:n}})}(e.parentFolder,e.folderName,e.folderDescription).then((function(e){return e}))},d=function(e){return function(e,t,n){var o=c.a.folders.edit(n);return Object(a.a)({url:o,method:"PATCH",headers:{Authorization:Object(r.a)(),name:e,description:t}})}(e.name,e.description,e.id).then((function(e){return e}))},j=function(e){var t=e.parent,n=e.id;return o(t,n,"move").then((function(e){return e}))},b=function(e){var t=e.parent,n=e.id;return o(t,n,"copy").then((function(e){return e}))}}}]);
//# sourceMappingURL=41.5d685a4b.chunk.js.map