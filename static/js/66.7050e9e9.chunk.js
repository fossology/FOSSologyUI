(this.webpackJsonpfossologyui=this.webpackJsonpfossologyui||[]).push([[66],{223:function(e,t,c){"use strict";c.r(t);var a=c(57),s=c(52),n=c(21),l=c(0),i=c(53),r=c(65),j=c(73),o=c(58),b=c(51),d=c(96),u=c(242),O=c(1);t.default=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),c=t[0],h=t[1],m=Object(l.useState)({page:1,limit:10}),x=Object(n.a)(m,2),p=x[0],g=x[1],v=Object(l.useState)(""),f=Object(n.a)(v,2),N=f[0],y=f[1],S=Object(l.useState)(j.k),w=Object(n.a)(S,2),J=w[0],C=w[1],D=Object(l.useState)(!1),k=Object(n.a)(D,2),z=k[0],L=k[1],q=Object(l.useState)(),F=Object(n.a)(q,2),M=F[0],P=F[1],R=Object(l.useState)(),E=Object(n.a)(R,2),G=E[0],Q=E[1];Object(l.useEffect)((function(){C({type:"success",text:o.a.loading}),L(!0),Object(d.c)(p).then((function(e){L(!1);for(var t,c=[],a=0;a<(null===e||void 0===e||null===(s=e.res)||void 0===s?void 0:s.length);a++){var s;e.res[a].queueDate=(t=e.res[a].queueDate,new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),c[a]=e.res[a]}Q(e.pages);for(var n=[],l=0;l<e.pages;l++)n.push({id:l+1,value:l+1});P(n),h(c),L(!1)})).catch((function(e){Object(r.e)(e,C),L(!0)}))}),[p]);var U=function(e,t){t>=1&&(Q(t),g(Object(s.a)(Object(s.a)({},p),{},Object(a.a)({},"page",t))))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.a,{title:"Show Jobs"}),Object(O.jsxs)("div",{className:"main-container my-3 text-center",children:[z&&Object(O.jsx)(b.a,{type:J.type,setShow:L,message:J.text}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-3 col-lg-2",children:Object(O.jsx)("h2",{className:"font-size-sub-heading",children:"My Recent Jobs"})}),Object(O.jsx)("div",{className:"col-md-9 col-lg-10",children:Object(O.jsxs)("table",{className:"table table-striped text-primary-color font-size-medium table-responsive-sm table-bordered",children:[Object(O.jsxs)("thead",{children:[Object(O.jsx)("tr",{children:Object(O.jsx)("th",{colSpan:"6",className:"font-size-sub-heading text-center",children:"My Recent Jobs"})}),Object(O.jsx)("tr",{className:"font-demi",children:Object(O.jsxs)("td",{colSpan:"6",className:"p-2 m-2 text-left",children:[Object(O.jsx)("span",{className:"mt-1 ",children:"Show entries: "}),Object(O.jsx)(b.c,{name:"limit",type:"select",onChange:function(e){return function(e){var t,c;"limit"===e.target.name?g(Object(s.a)(Object(s.a)({},p),{},(t={},Object(a.a)(t,e.target.name,e.target.value),Object(a.a)(t,"page",1),t))):g(Object(s.a)(Object(s.a)({},p),{},(c={},Object(a.a)(c,e.target.name,e.target.value),Object(a.a)(c,"page",1),c)))}(e)},options:j.f,property:"entry"})]})}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:Object(O.jsx)("input",{type:"search",className:"form-control",placeholder:"Filter Jobs",onChange:function(e){return y(e.target.value)}})}),Object(O.jsx)("th",{})]}),Object(O.jsxs)("tr",{className:"font-bold text-center",children:[Object(O.jsx)("th",{children:"Job Name"}),Object(O.jsx)("th",{children:"Queue Date"}),Object(O.jsx)("th",{children:"Status"})]})]}),Object(O.jsxs)("tbody",{children:[null===c||void 0===c?void 0:c.filter((function(e){return""===N||null!==e&&void 0!==e&&e.name.toLowerCase().includes(N.toLowerCase())?e:null})).map((function(e){return Object(O.jsxs)("tr",{className:"text-center",children:[Object(O.jsx)("td",{children:Object(O.jsx)("div",{className:"font-demi",children:null===e||void 0===e?void 0:e.name})}),Object(O.jsx)("td",{children:Object(O.jsx)("div",{className:"font-demi",children:null===e||void 0===e?void 0:e.queueDate})}),Object(O.jsx)("td",{children:null===e||void 0===e?void 0:e.status})]})})),Object(O.jsx)("tr",{className:"text-left",children:Object(O.jsx)("td",{colSpan:"6",children:Object(O.jsxs)("div",{className:"right-pagination",children:["Page:",M&&Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)(u.a,{name:"page",className:"col-md-6 pagination-div ",property:"value",count:G,page:p.page,onChange:U}),Object(O.jsxs)("div",{className:"row",children:["Go to Page: \xa0",Object(O.jsx)("input",{type:"number",maxLength:"4",size:"3",className:"pagination-textarea",onChange:function(e){return U(0,e.target.value)}})]})]})]})})})]})]})})]})]})]})}}}]);
//# sourceMappingURL=66.7050e9e9.chunk.js.map