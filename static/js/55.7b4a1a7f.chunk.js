(this.webpackJsonpfossologyui=this.webpackJsonpfossologyui||[]).push([[55],{198:function(e,t,l){"use strict";l.r(t);var c=l(57),n=l(48),a=l(21),o=l(0),i=l(52),s=l(46),d=l(47),r=l(64),u=l(89),j=l(1);t.default=function(){var e=Object(o.useState)({folderId:1,uploadId:null}),t=Object(a.a)(e,2),l=t[0],b=t[1],p=Object(o.useState)([{id:1,name:"Software Repository",description:"Top Folder",parent:null}]),h=Object(a.a)(p,2),O=h[0],f=h[1],m=Object(o.useState)([]),x=Object(a.a)(m,2),y=x[0],g=x[1],v=Object(o.useState)(!1),S=Object(a.a)(v,2),I=S[0],w=S[1],N=Object(o.useState)(!1),D=Object(a.a)(N,2),E=D[0],T=D[1],U=Object(o.useState)({type:"success",text:""}),k=Object(a.a)(U,2),z=k[0],C=k[1],F=function(e){return e.target.multiple?b(Object(n.a)(Object(n.a)({},l),{},Object(c.a)({},e.target.name,Array.from(e.target.selectedOptions,(function(e){return e.value}))))):b(Object(n.a)(Object(n.a)({},l),{},Object(c.a)({},e.target.name,e.target.value)))};return Object(o.useEffect)((function(){Object(r.e)().then((function(e){f(e)})),Object(u.c)(l.folderId).then((function(e){g(e)}))}),[l.folderId,l.uploadId]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(s.a,{title:"Delete Uploads"}),Object(j.jsxs)("div",{className:"main-container my-3",children:[E&&Object(j.jsx)(d.a,{type:z.type,setShow:T,message:z.text}),Object(j.jsx)("h1",{className:"font-size-main-heading mb-4",children:"Delete Uploaded File"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-8 col-md-12 col-sm-12 col-12",children:[Object(j.jsx)("p",{children:"Select the uploaded file to delete"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"This will delete the upload file!"}),Object(j.jsx)("li",{children:"Be very careful with your selection since you can delete a lot of work!"}),Object(j.jsx)("li",{children:"All analysis only associated with the deleted upload file will also be deleted."}),Object(j.jsx)("li",{children:"THERE IS NO UNDELETE. When you select something to delete, it will be removed from the database and file repository."})]}),Object(j.jsx)("p",{children:"Select the uploaded file to delete:"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(d.c,{type:"select",name:"folderId",id:"organize-upload-folder-list",onChange:function(e){return F(e)},options:O,property:"name",value:null===O||void 0===O?void 0:O.id,children:"Select the folder containing the file to delete:"})}),Object(j.jsx)("li",{className:"mt-4",children:Object(j.jsx)(d.c,{type:"select",name:"uploadId",id:"organize-upload-list",onChange:function(e){return F(e)},options:y,value:y.id,property:"uploadname",multiple:!0,children:"Select the uploaded project to delete:"})})]}),Object(j.jsx)(d.b,{type:"submit",onClick:function(e){var t,c;(e.preventDefault(),w(!0),(null===l||void 0===l||null===(t=l.uploadId)||void 0===t?void 0:t.length)>0)?null===l||void 0===l||null===(c=l.uploadId)||void 0===c||c.forEach((function(e){return Object(u.b)(parseInt(e,10)).then((function(){C({type:"success",text:i.a.scheduleUploadDeletion}),Object(u.c)(l.folderId).then((function(e){g(e)}))})).catch((function(e){C({type:"danger",text:e.message})})).finally((function(){w(!1),T(!0)}))})):(w(!1),T(!0),C({type:"danger",text:i.a.selectUploadsToDelete}))},className:"mt-4",children:I?Object(j.jsx)(d.d,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Delete"})]})})]})]})}}}]);
//# sourceMappingURL=55.7b4a1a7f.chunk.js.map