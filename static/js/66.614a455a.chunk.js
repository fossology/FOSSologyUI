(this.webpackJsonpfossologyui=this.webpackJsonpfossologyui||[]).push([[66],{222:function(e,t,c){"use strict";c.r(t);var a=c(60),s=c(52),n=c(21),l=c(0),i=c(53),r=c(65),j=c(84),o=c(58),b=c(51),d=c(93),O=c(241),u=c(1);t.default=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),c=t[0],h=t[1],m=Object(l.useState)({page:1,limit:10}),x=Object(n.a)(m,2),p=x[0],g=x[1],v=Object(l.useState)(""),f=Object(n.a)(v,2),N=f[0],y=f[1],S=Object(l.useState)(j.k),w=Object(n.a)(S,2),J=w[0],C=w[1],D=Object(l.useState)(!1),k=Object(n.a)(D,2),z=k[0],L=k[1],q=Object(l.useState)(),A=Object(n.a)(q,2),F=A[0],P=A[1],E=Object(l.useState)(),G=Object(n.a)(E,2),Q=G[0],R=G[1];Object(l.useEffect)((function(){C({type:"success",text:o.a.loading}),L(!0),Object(d.b)(p).then((function(e){L(!1);for(var t,c=[],a=0;a<e.res.length;a++)e.res[a].queueDate=(t=e.res[a].queueDate,new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),c[a]=e.res[a];R(e.pages);for(var s=[],n=0;n<e.pages;n++)s.push({id:n+1,value:n+1});P(s),h(c),L(!1)})).catch((function(e){Object(r.e)(e,C),L(!0)}))}),[p]);var U=function(e,t){t>=1&&(R(t),g(Object(s.a)(Object(s.a)({},p),{},Object(a.a)({},"page",t))))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.a,{title:"Show Jobs"}),Object(u.jsxs)("div",{className:"main-container my-3 text-center",children:[z&&Object(u.jsx)(b.a,{type:J.type,setShow:L,message:J.text}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-3 col-lg-2",children:Object(u.jsx)("h2",{className:"font-size-sub-heading",children:"All Jobs"})}),Object(u.jsx)("div",{className:"col-md-9 col-lg-10",children:Object(u.jsxs)("table",{className:"table table-striped text-primary-color font-size-medium table-responsive-sm table-bordered",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colSpan:"6",className:"font-size-sub-heading text-center",children:"All Recent Jobs"})}),Object(u.jsx)("tr",{className:"font-demi",children:Object(u.jsxs)("td",{colSpan:"6",className:"p-2 m-2 text-left",children:[Object(u.jsx)("span",{className:"mt-1 ",children:"Show entries: "}),Object(u.jsx)(b.c,{name:"limit",type:"select",onChange:function(e){return function(e){var t,c;"limit"===e.target.name?g(Object(s.a)(Object(s.a)({},p),{},(t={},Object(a.a)(t,e.target.name,e.target.value),Object(a.a)(t,"page",1),t))):g(Object(s.a)(Object(s.a)({},p),{},(c={},Object(a.a)(c,e.target.name,e.target.value),Object(a.a)(c,"page",1),c)))}(e)},options:j.f,property:"entry"})]})}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:Object(u.jsx)("input",{type:"search",className:"form-control",placeholder:"Filter Jobs",onChange:function(e){return y(e.target.value)}})}),Object(u.jsx)("th",{})]}),Object(u.jsxs)("tr",{className:"font-bold text-center",children:[Object(u.jsx)("th",{children:"Job Name"}),Object(u.jsx)("th",{children:"Queue Date"}),Object(u.jsx)("th",{children:"Status"})]})]}),Object(u.jsxs)("tbody",{children:[null===c||void 0===c?void 0:c.filter((function(e){return""===N||null!==e&&void 0!==e&&e.name.toLowerCase().includes(N.toLowerCase())?e:null})).map((function(e){return Object(u.jsxs)("tr",{className:"text-center",children:[Object(u.jsx)("td",{children:Object(u.jsx)("div",{className:"font-demi",children:null===e||void 0===e?void 0:e.name})}),Object(u.jsx)("td",{children:Object(u.jsx)("div",{className:"font-demi",children:null===e||void 0===e?void 0:e.queueDate})}),Object(u.jsx)("td",{children:null===e||void 0===e?void 0:e.status})]})})),Object(u.jsx)("tr",{className:"text-left",children:Object(u.jsx)("td",{colSpan:"6",children:Object(u.jsxs)("div",{className:"right-pagination",children:["Page:",F&&Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(O.a,{name:"page",className:"col-md-6 pagination-div ",property:"value",count:Q,page:p.page,onChange:U}),Object(u.jsxs)("div",{className:"row",children:["Go to Page: \xa0",Object(u.jsx)("input",{type:"number",maxLength:"4",size:"3",className:"pagination-textarea",onChange:function(e){return U(0,e.target.value)}})]})]})]})})})]})]})})]})]})]})}}}]);
//# sourceMappingURL=66.614a455a.chunk.js.map