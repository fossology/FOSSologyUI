(this.webpackJsonpfossologyui=this.webpackJsonpfossologyui||[]).push([[42],{186:function(e,n,t){"use strict";t.r(n);var c=t(24),a=t(15),r=t(23),s=t(0),i=t(51),o=t(88),l=t(78),d=t(14),u=t(49),h=t(1);n.default=function(){var e,n={analysis:Object(d.a)(),decider:{nomosMonk:!1,bulkReused:!1,newScanner:!1,ojoDecider:!1},reuse:{reuseUpload:0,reuseGroup:null===(e=Object(d.c)("user"))||void 0===e?void 0:e.default_group,reuseMain:!1,reuseEnhanced:!1,reuseReport:!1,reuseCopyright:!1}},t=Object(s.useState)({folderId:1,uploadDescription:"",accessLevel:"protected",ignoreScm:!1,uploadType:"server",groupName:""}),p=Object(r.a)(t,2),j=p[0],b=p[1],m=Object(s.useState)([{id:1,name:"Software Repository",description:"Top Folder",parent:null}]),f=Object(r.a)(m,2),g=f[0],O=f[1],y=Object(s.useState)(n),x=Object(r.a)(y,2),k=x[0],v=x[1],C=Object(s.useState)(),w=Object(r.a)(C,2),S=w[0],N=w[1],L=Object(s.useState)(!1),A=Object(r.a)(L,2),E=A[0],M=A[1],G=function(e){"checkbox"===e.target.type?b(Object(a.a)(Object(a.a)({},j),{},Object(c.a)({},e.target.name,e.target.checked))):"file"===e.target.type?b(Object(a.a)(Object(a.a)({},j),{},Object(c.a)({},e.target.name,e.target.files[0]))):b(Object(a.a)(Object(a.a)({},j),{},Object(c.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){Object(l.e)().then((function(e){O(e)})).catch((function(e){window.scrollTo({top:0}),N({type:"danger",text:e.message}),M(!0)}))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{title:"Upload from Server"}),Object(h.jsxs)("div",{className:"main-container my-3",children:[E&&Object(h.jsx)(i.a,{type:S.type,message:S.text,setShow:M}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-lg-8 col-md-12 col-sm-12 col-12",children:[Object(h.jsx)("h1",{className:"font-size-main-heading",children:"Upload from Server"}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"font-demi",children:"To manage your own group permissions go into Admin > Groups > Manage Group Users. To manage permissions for this one upload, go to Admin > Upload Permissions."}),Object(h.jsx)("p",{children:"This option permits uploading a files from the server."}),Object(h.jsxs)("form",{className:"my-3",children:[Object(h.jsx)(i.c,{type:"select",name:"",id:"upload-server-folder-id",onChange:function(e){return G(e)},options:g,property:"name",value:"",children:"Select the folder for storing the uploaded files:"}),Object(h.jsx)(i.c,{type:"text",name:"",id:"upload-server-file-path",onChange:function(e){return G(e)},value:"",children:"Enter the file path:"}),Object(h.jsx)("div",{className:"mt-n2 mb-3",children:"NOTE: Contents under a directory will be recursively included. '*' is supported to select multiple files (e.g. *.txt)."}),Object(h.jsx)(i.c,{type:"text",name:"",id:"upload-server-viewable-name",onChange:function(e){return G(e)},value:"",children:"(Optional) Enter a viewable name for this file or directory:"}),Object(h.jsx)("div",{className:"mt-n2",children:"Note: If no name is provided, then the uploaded file (directory) name will be used."}),Object(h.jsx)("div",{className:"my-3",children:Object(h.jsxs)("label",{htmlFor:"upload-server-description",className:"font-demi",children:["(Optional) Enter a description of this file:",Object(h.jsx)("textarea",{name:"description",className:"form-control",value:"",id:"upload-server-description",rows:"3",onChange:function(e){return G(e)}})]})}),Object(h.jsx)(o.a,{accessLevel:j.accessLevel,ignoreScm:j.ignoreScm,analysis:k.analysis,decider:k.decider,reuse:k.reuse,handleChange:G,handleScanChange:function(e){var n=e.target.name;Object.keys(k.analysis).find((function(e){return e===n}))?v(Object(a.a)(Object(a.a)({},k),{},{analysis:Object(a.a)(Object(a.a)({},k.analysis),{},Object(c.a)({},e.target.name,e.target.checked))})):Object.keys(k.decider).find((function(e){return e===n}))?v(Object(a.a)(Object(a.a)({},k),{},{decider:Object(a.a)(Object(a.a)({},k.decider),{},Object(c.a)({},e.target.name,e.target.checked))})):v(Object(a.a)(Object(a.a)({},k),{},{reuse:Object(a.a)(Object(a.a)({},k.reuse),{},Object(c.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:parseInt(e.target.value,10)||e.target.value))}))}}),Object(h.jsx)(i.b,{type:"submit",onClick:function(e){e.preventDefault()},className:"mt-4",children:"Upload"})]})]})})]})]})}},86:function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return l}));var c=t(57),a=t(47),r=t(59),s=t(14),i=function(){return Object(s.c)("groups")},o=function(){return function(){var e=c.a.admin.groups.getAll();return Object(r.a)({url:e,method:"GET",headers:{Authorization:Object(a.a)()},addGroupName:!1})}().then((function(e){return Object(s.h)("groups",e),e}))},l=function(e){return function(e){var n=c.a.admin.groups.create();return Object(r.a)({url:n,method:"POST",headers:{Authorization:Object(a.a)(),name:e},addGroupName:!1})}(e).then((function(e){return e}))}},88:function(e,n,t){"use strict";var c=t(0),a=t(51),r=t(1);var s=function(e){var n=e.ignoreScm,t=e.handleChange;return Object(r.jsx)("div",{id:"upload-ignore-files",className:"mt-4",children:Object(r.jsxs)(a.c,{type:"checkbox",checked:n,name:"ignoreScm",id:"upload-ignore-scm",onChange:function(e){return t(e)},children:["Ignore SCM files (Git, SVN, TFS) and files with particular Mimetype\xa0",Object(r.jsx)(a.e,{title:"Configure mimetypes from Admin-Customize-Skip MimeTypes from scanning"})]})})};var i=function(e){var n=e.accessLevel,t=e.handleChange;return Object(r.jsxs)("div",{id:"upload-access-level",className:"mt-4",children:[Object(r.jsxs)(a.c,{type:"radio",value:"private",name:"accessLevel",id:"upload-access-level-private",checked:"private"===n,onChange:function(e){return t(e)},children:["Visible only for active group\xa0",Object(r.jsx)(a.e,{title:"which is the currently selected group"})]}),Object(r.jsxs)(a.c,{type:"radio",value:"protected",name:"accessLevel",id:"upload-access-level-protected",checked:"protected"===n,onChange:function(e){return t(e)},children:["Visible for all groups\xa0",Object(r.jsx)(a.e,{title:"which are accessible by you now"})]}),Object(r.jsxs)(a.c,{type:"radio",value:"public",name:"accessLevel",id:"upload-access-level-public",checked:"public"===n,onChange:function(e){return t(e)},children:["Make Public\xa0",Object(r.jsx)(a.e,{title:"visible for all users"})]})]})},o=t(53);var l=function(e){var n=e.analysis,t=e.handleChange;return Object(r.jsxs)("div",{id:"uplod-optional-analysis",className:"mt-4",children:[Object(r.jsx)("p",{className:"font-demi",children:"Select optional analysis"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.bucket,name:"bucket",id:"upload-analysis-bucket",onChange:function(e){return t(e)},children:"Bucket Analysis"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.copyrightEmailAuthor,name:"copyrightEmailAuthor",id:"upload-analysis-copyright-email-author",onChange:function(e){return t(e)},children:"Copyright/Email/URL/Author Analysis"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.ecc,name:"ecc",id:"upload-analysis-ecc",onChange:function(e){return t(e)},children:"ECC Analysis, scanning for text fragments potentially relevant for export control"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.keyword,name:"keyword",id:"upload-analysis-keyword",onChange:function(e){return t(e)},children:"Keyword Analysis"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.mime,name:"mime",id:"upload-analysis-mime",onChange:function(e){return t(e)},children:"MIME-type Analysis (Determine mimetype of every file. Not needed for licenses or buckets)"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.monk,name:"monk",id:"upload-analysis-monk",onChange:function(e){return t(e)},children:"Monk License Analysis, scanning for licenses performing a text comparison"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.nomos,name:"nomos",id:"upload-analysis-nomos",onChange:function(e){return t(e)},children:"Nomos License Analysis, scanning for licenses using regular expressions"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.ojo,name:"ojo",id:"upload-analysis-ojo",onChange:function(e){return t(e)},children:"Ojo License Analysis, scanning for licenses using SPDX-License-Identifier"}),Object(r.jsx)(o.a,{type:"checkbox",checked:n.package,name:"package",id:"upload-analysis-package",onChange:function(e){return t(e)},children:"Package Analysis (Parse package headers)"})]})};var d=function(e){var n=e.decider,t=e.handleChange;return Object(r.jsxs)("div",{id:"upload-concluded-license-decider",className:"mt-4",children:[Object(r.jsxs)("p",{className:"font-demi",children:["Automatic Concluded License Decider,",Object(r.jsx)(a.e,{title:"only for relevant files"})," based on"]}),Object(r.jsx)(a.c,{type:"checkbox",checked:n.nomosMonk,name:"nomosMonk",id:"upload-decider-nomos-monk",onChange:function(e){return t(e)},children:"... scanners matches if all Nomos findings are within the Monk findings"}),Object(r.jsx)(a.c,{type:"checkbox",checked:n.ojoDecider,name:"ojoDecider",id:"upload-decider-ojo-decider",onChange:function(e){return t(e)},children:".. scanners matches if Ojo findings are no contradiction with other findings"}),Object(r.jsx)(a.c,{type:"checkbox",checked:n.bulkReused,name:"bulkReused",id:"upload-decider-bulk-reused",onChange:function(e){return t(e)},children:"... bulk phrases from reused packages"}),Object(r.jsx)(a.c,{type:"checkbox",checked:n.newScanner,name:"newScanner",id:"upload-decider-new-scanner",onChange:function(e){return t(e)},children:"... new scanner results, i.e., decisions were marked as work in progress if new scanner finds additional licenses"})]})},u=t(24),h=t(15),p=t(23),j=t(78),b=t(90),m=t(86),f=t(56),g=function(e){var n=e.reuse,t=e.handleChange,s=Object(c.useState)({groupList:[{id:3,name:"fossy"}],folderList:[{id:1,name:"Software Repository",description:"Top Folder",parent:null}],uploadList:[{folderId:1,uploadId:null,uploadName:"",uploadDescription:""}],reuseFolder:1}),i=Object(p.a)(s,2),o=i[0],l=i[1];Object(c.useEffect)((function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{groupList:Object(m.c)()})}))}),[]),Object(c.useEffect)((function(){Object(j.e)(n.reuseGroup).then((function(e){l((function(n){return Object(h.a)(Object(h.a)({},n),{},{folderList:e})}))})).catch((function(){}))}),[n.reuseGroup]),Object(c.useEffect)((function(){Object(b.c)(o.reuseFolder,n.reuseGroup).then((function(e){l((function(n){return Object(h.a)(Object(h.a)({},n),{},{uploadList:e})}))})).catch((function(){}))}),[n.reuseGroup,o.reuseFolder]);return Object(r.jsxs)("div",{id:"upload-reuse",className:"mt-4",children:[Object(r.jsxs)("p",{className:"font-demi",children:["(Optional) Reuse",Object(r.jsx)(a.e,{title:"copy clearing decisions if there is the same file hash between two files"})]}),Object(r.jsx)(a.c,{type:"select",name:"reuseGroup",id:"upload-file-reuse-group",onChange:t,options:o.groupList,value:n.reuseGroup,property:"name",valueProperty:"name",noDataMessage:f.a.noGroup,children:"Select the reuse group:"}),Object(r.jsx)(a.c,{type:"select",name:"reuseFolder",id:"upload-file-reuse-folder",onChange:function(e){l((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(u.a)({},e.target.name,e.target.value))}))},options:o.folderList,value:o.reuseFolder,property:"name",noDataMessage:f.a.noFolder,children:"Select the reuse folder:"}),Object(r.jsx)(a.c,{type:"select",name:"reuseUpload",id:"upload-file-reuse-upload",onChange:t,options:o.uploadList,value:parseInt(n.reuseUpload,10),property:"uploadname",valueProperty:"id",noDataMessage:f.a.noUploads,children:"Select the reuse upload:"}),Object(r.jsxs)(a.c,{type:"checkbox",checked:n.reuseEnhanced,name:"reuseEnhanced",id:"upload-file-reuse-enhanced",onChange:t,children:["Enhanced reuse (slower)",Object(r.jsx)(a.e,{title:"will copy a clearing decision if the two files differ by one line determined by a diff tool"})]}),Object(r.jsxs)(a.c,{type:"checkbox",checked:n.reuseMain,name:"reuseMain",id:"upload-file-reuse-main",onChange:t,children:["Reuse main license/s",Object(r.jsx)(a.e,{title:"will copy a main license decision if any"})]}),Object(r.jsxs)(a.c,{type:"checkbox",checked:n.reuseReport,name:"reuseReport",id:"upload-file-reuse-report",onChange:t,children:["Reuse report configuration settings",Object(r.jsx)(a.e,{title:"use to copy all the information from conf page(if any)"})]}),Object(r.jsxs)(a.c,{type:"checkbox",checked:n.reuseCopyright,name:"reuseCopyright",id:"upload-file-reuse-copyright",onChange:t,children:["Reuse edited and deactivated copyrights",Object(r.jsx)(a.e,{title:"use to copy edited and deactivated copyrights from the reused package"})]})]})};n.a=function(e){var n=e.accessLevel,t=e.ignoreScm,c=e.analysis,a=e.decider,o=e.reuse,u=e.handleChange,h=e.handleScanChange;return Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(s,{ignoreScm:t,handleChange:u}),n&&Object(r.jsx)(i,{accessLevel:n,handleChange:u}),c&&Object(r.jsx)(l,{analysis:c,handleChange:h}),a&&Object(r.jsx)(d,{decider:a,handleChange:h}),o&&Object(r.jsx)(g,{reuse:o,handleChange:h})]})}}}]);
//# sourceMappingURL=42.c9affeda.chunk.js.map